<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: commands/information/avatar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: commands/information/avatar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * @file commands/information/anime.js
 * @description Cette commande permet de rechercher et récupérer des informations sur un anime
 * @author gelo
 * @module commands/avatar
 */

const { SlashCommandBuilder } = require("@discordjs/builders");
const { halyma } = require("halymafunctions");

module.exports = {

    data: new SlashCommandBuilder()
        .setName("avatar")
        .setDescription("Récupérer l'avatar d'un utilisateur")
        .addUserOption(option =>
            option
                .setName("user")
                .setDescription("L'utilisateur dont vous souhaitez récupérer l'avatar")
        ),

    execute: async (interaction, client) =>
    {

        const target = interaction.options.getUser("user") || interaction.user;

        /**
         * @function generateAvatarLink
         * @description Retourne un lien de l'avatar de la cible, dans le format indiqué
         * @param {string} format 
         * @returns {string} Lien de l'avatar
         */
        function generateAvatarLink(format)
        {
            return target.displayAvatarURL({ size: 1024, dynamic: true, format: format });
        }

        /**
         * @function generateTitle
         * @description Retourne une chaine de caractère utilisé pour le titre de l'embed.
         * Elle vérifie qui est la cible de la commande Avatar si la cible est l'auteur de la commande il retourner
         * une chaine de caracètre différente de celle retourner quand la cible n'est pas l'auteur
         * @returns {string}
         */
        function generateTitle()
        {
            if (target === interaction.user)
                return `${ target.username }, voici ton avatar`
            else
                return `${ interaction.user.username }, voici l'avatar de ${ target.username }`
        }

        /**
         * @function generateAvatarEmbed
         * @description Retourne un embed de l'avatar de la cible
         * @returns {Embed}
         */
        function generateAvatarEmbed()
        {

            const avatarURL = generateAvatarLink("webp"),
                description = `[png](${ generateAvatarLink("png") }) - [jpg](${ generateAvatarLink("jpg") }) - [gif](${ generateAvatarLink("gif") })`;

            return halyma.embed({

                image: avatarURL,
                description: description,

                author: [
                    generateTitle(),
                    interaction.user.displayAvatarURL()
                ]

            });

        }

        interaction.reply({
            embeds: [generateAvatarEmbed()]
        });

    }

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-commands_anime.html">commands/anime</a></li><li><a href="module-commands_avatar.html">commands/avatar</a></li><li><a href="module-commands_channelinfo.html">commands/channelinfo</a></li><li><a href="module-commands_help.html">commands/help</a></li><li><a href="module-commands_hug.html">commands/hug</a></li><li><a href="module-commands_kiss.html">commands/kiss</a></li><li><a href="module-commands_pat.html">commands/pat</a></li><li><a href="module-commands_punch.html">commands/punch</a></li><li><a href="module-commands_userinfo.html">commands/userinfo</a></li><li><a href="module-utils.html">utils</a></li></ul><h3>Classes</h3><ul><li><a href="module-utils.Error.html">Error</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createClient">createClient</a></li><li><a href="global.html#createHandler">createHandler</a></li><li><a href="global.html#startBot">startBot</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Jan 05 2022 04:05:26 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
